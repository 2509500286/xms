2019-05-21 09:33:59,381 [71] ERROR Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware [(null)] - Xms.Infrastructure.XmsException: 列名 'Name' 无效。
列名 'Name' 无效。: SELECT  TOP 5 Sum(TotalAmount) AS TotalAmountSum,OpportunityId AS OpportunityId,Name AS OpportunityIdname FROM (SELECT  CONVERT(DECIMAL(18,2),ISNULL(opportunity.totalamount,0))  AS totalamount,opportunity.OpportunityId FROM opportunityView AS opportunity WITH(NOLOCK)   ) a GROUP BY OpportunityId,Name  ORDER BY TotalAmountSum desc;
 ---> System.Data.SqlClient.SqlException: 列名 'Name' 无效。
列名 'Name' 无效。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   --- End of inner exception stack trace ---
   at Xms.Data.DbContext.OnException(Exception e) in G:\projects\Xms_V2\Libraries\Xms.Data\DbContext.cs:line 42
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Xms.Business.DataAnalyse.Data.ChartRepository.GetChartDataSource(ChartDataDescriptor chartData, QueryExpression query, IQueryResolver queryResolver, List`1& attributes) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Data\ChartRepository.cs:line 156
   at Xms.Business.DataAnalyse.Visualization.ChartBuilder.Build(QueryView queryView, Chart chartEntity, FilterExpression filter, String drillGroup) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Visualization\ChartBuilder.cs:line 72
   at Xms.Web.Controllers.ChartRenderController.RenderChart(RenderChartModel model) in G:\projects\Xms_V2\Presentation\Xms.Web\Controllers\ComponentController.cs:line 98
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\projects\Xms_V2\Presentation\Xms.Web.FrameWork\Middlewares\ExceptionHandlerMiddleWare.cs:line 32
2019-05-21 09:38:54,251 [88] ERROR Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware [(null)] - Xms.Infrastructure.XmsException: 列名 'Name' 无效。
列名 'Name' 无效。: SELECT  TOP 5 Sum(TotalAmount) AS TotalAmountSum,OpportunityId AS OpportunityId,Name AS OpportunityIdname FROM (SELECT  CONVERT(DECIMAL(18,2),ISNULL(opportunity.totalamount,0))  AS totalamount,opportunity.OpportunityId FROM opportunityView AS opportunity WITH(NOLOCK)   ) a GROUP BY OpportunityId,Name  ORDER BY TotalAmountSum desc;
 ---> System.Data.SqlClient.SqlException: 列名 'Name' 无效。
列名 'Name' 无效。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   --- End of inner exception stack trace ---
   at Xms.Data.DbContext.OnException(Exception e) in G:\projects\Xms_V2\Libraries\Xms.Data\DbContext.cs:line 42
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Xms.Business.DataAnalyse.Data.ChartRepository.GetChartDataSource(ChartDataDescriptor chartData, QueryExpression query, IQueryResolver queryResolver, List`1& attributes) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Data\ChartRepository.cs:line 156
   at Xms.Business.DataAnalyse.Visualization.ChartBuilder.Build(QueryView queryView, Chart chartEntity, FilterExpression filter, String drillGroup) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Visualization\ChartBuilder.cs:line 72
   at Xms.Web.Controllers.ChartRenderController.RenderChart(RenderChartModel model) in G:\projects\Xms_V2\Presentation\Xms.Web\Controllers\ComponentController.cs:line 98
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\projects\Xms_V2\Presentation\Xms.Web.FrameWork\Middlewares\ExceptionHandlerMiddleWare.cs:line 32
2019-05-21 09:39:49,385 [96] ERROR Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware [(null)] - Xms.Infrastructure.XmsException: 列名 'Name' 无效。
列名 'Name' 无效。: SELECT  TOP 5 Sum(TotalAmount) AS TotalAmountSum,OpportunityId AS OpportunityId,Name AS OpportunityIdname FROM (SELECT  CONVERT(DECIMAL(18,2),ISNULL(opportunity.totalamount,0))  AS totalamount,opportunity.OpportunityId FROM opportunityView AS opportunity WITH(NOLOCK)   ) a GROUP BY OpportunityId,Name  ORDER BY TotalAmountSum desc;
 ---> System.Data.SqlClient.SqlException: 列名 'Name' 无效。
列名 'Name' 无效。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   --- End of inner exception stack trace ---
   at Xms.Data.DbContext.OnException(Exception e) in G:\projects\Xms_V2\Libraries\Xms.Data\DbContext.cs:line 42
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Xms.Business.DataAnalyse.Data.ChartRepository.GetChartDataSource(ChartDataDescriptor chartData, QueryExpression query, IQueryResolver queryResolver, List`1& attributes) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Data\ChartRepository.cs:line 156
   at Xms.Business.DataAnalyse.Visualization.ChartBuilder.Build(QueryView queryView, Chart chartEntity, FilterExpression filter, String drillGroup) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Visualization\ChartBuilder.cs:line 72
   at Xms.Web.Controllers.ChartRenderController.RenderChart(RenderChartModel model) in G:\projects\Xms_V2\Presentation\Xms.Web\Controllers\ComponentController.cs:line 98
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\projects\Xms_V2\Presentation\Xms.Web.FrameWork\Middlewares\ExceptionHandlerMiddleWare.cs:line 32
2019-05-21 09:56:15,258 [77] ERROR Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware [(null)] - Xms.Infrastructure.XmsException: 列名 'Name' 无效。
列名 'Name' 无效。: SELECT  TOP 5 Sum(TotalAmount) AS TotalAmountSum,OpportunityId AS OpportunityId,Name AS OpportunityIdname FROM (SELECT  CONVERT(DECIMAL(18,2),ISNULL(opportunity.totalamount,0))  AS totalamount,opportunity.OpportunityId FROM opportunityView AS opportunity WITH(NOLOCK)   ) a GROUP BY OpportunityId,Name  ORDER BY TotalAmountSum desc;
 ---> System.Data.SqlClient.SqlException: 列名 'Name' 无效。
列名 'Name' 无效。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   --- End of inner exception stack trace ---
   at Xms.Data.DbContext.OnException(Exception e) in G:\projects\Xms_V2\Libraries\Xms.Data\DbContext.cs:line 42
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Xms.Business.DataAnalyse.Data.ChartRepository.GetChartDataSource(ChartDataDescriptor chartData, QueryExpression query, IQueryResolver queryResolver, List`1& attributes) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Data\ChartRepository.cs:line 156
   at Xms.Business.DataAnalyse.Visualization.ChartBuilder.Build(QueryView queryView, Chart chartEntity, FilterExpression filter, String drillGroup) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Visualization\ChartBuilder.cs:line 72
   at Xms.Web.Controllers.ChartRenderController.RenderChart(RenderChartModel model) in G:\projects\Xms_V2\Presentation\Xms.Web\Controllers\ComponentController.cs:line 98
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\projects\Xms_V2\Presentation\Xms.Web.FrameWork\Middlewares\ExceptionHandlerMiddleWare.cs:line 32
2019-05-21 09:57:45,370 [69] ERROR Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware [(null)] - Xms.Infrastructure.XmsException: 列名 'Name' 无效。
列名 'Name' 无效。: SELECT  TOP 5 Sum(TotalAmount) AS TotalAmountSum,OpportunityId AS OpportunityId,Name AS OpportunityIdname FROM (SELECT  CONVERT(DECIMAL(18,2),ISNULL(opportunity.totalamount,0))  AS totalamount,opportunity.OpportunityId FROM opportunityView AS opportunity WITH(NOLOCK)   ) a GROUP BY OpportunityId,Name  ORDER BY TotalAmountSum desc;
 ---> System.Data.SqlClient.SqlException: 列名 'Name' 无效。
列名 'Name' 无效。
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader()
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   --- End of inner exception stack trace ---
   at Xms.Data.DbContext.OnException(Exception e) in G:\projects\Xms_V2\Libraries\Xms.Data\DbContext.cs:line 42
   at PetaPoco.Database.ExecuteReader[T](CommandType commandType, String sql, Object[] args)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Xms.Business.DataAnalyse.Data.ChartRepository.GetChartDataSource(ChartDataDescriptor chartData, QueryExpression query, IQueryResolver queryResolver, List`1& attributes) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Data\ChartRepository.cs:line 156
   at Xms.Business.DataAnalyse.Visualization.ChartBuilder.Build(QueryView queryView, Chart chartEntity, FilterExpression filter, String drillGroup) in G:\projects\Xms_V2\Libraries\Business\Xms.Business.DataAnalyse\Visualization\ChartBuilder.cs:line 72
   at Xms.Web.Controllers.ChartRenderController.RenderChart(RenderChartModel model) in G:\projects\Xms_V2\Presentation\Xms.Web\Controllers\ComponentController.cs:line 98
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Xms.Web.Framework.Middlewares.ExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\projects\Xms_V2\Presentation\Xms.Web.FrameWork\Middlewares\ExceptionHandlerMiddleWare.cs:line 32
