#pragma checksum "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e1df7d214d79fe2f9cf433125a977d3cee556c57"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Entity_RenderGridView), @"mvc.1.0.view", @"/Views/Entity/RenderGridView.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Infrastructure.Utility;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Web.Framework;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
using Xms.Schema.Extensions;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e1df7d214d79fe2f9cf433125a977d3cee556c57", @"/Views/Entity/RenderGridView.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4b0011d9a8909cdacaf42363c4ba3a5683bc0ece", @"/Views/_ViewImports.cshtml")]
    public class Views_Entity_RenderGridView : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Xms.Web.Models.EntityGridModel>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 4 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
  
    Layout = null;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
  
    var mainEntity = Model.EntityList.First();
    var gridid = "queryview-section-" + Guid.NewGuid().ToString("N");

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
  
    var jsLibs = new List<string>();
    var resources = new List<Guid>();
    if (Model.IsShowButtons && Model.RibbonButtons.NotEmpty())
    {
        foreach (var btn in Model.RibbonButtons)
        {
            if (btn.JsLibrary.IsNotEmpty())
            {
                if (btn.JsLibrary.StartsWith("$webresource:"))
                {
                    var wsId = Guid.Parse(btn.JsLibrary.Replace("$webresource:", ""));
                    if (!resources.Contains(wsId))
                    {
                        resources.Add(wsId);
                    }
                }
                else if (!jsLibs.Contains(btn.JsLibrary))
                {
                    jsLibs.Add(btn.JsLibrary);
                }
            }
        }
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<div");
            BeginWriteAttribute("id", " id=\"", 1019, "\"", 1031, 1);
#nullable restore
#line 37 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 1024, gridid, 1024, 7, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"grid\" style=\"border: 1px solid #eee;\">\r\n    <input type=\"hidden\" name=\"allsubgirddata\"");
            BeginWriteAttribute("value", " value=\"", 1126, "\"", 1134, 0);
            EndWriteAttribute();
            WriteLiteral(" />\r\n    <input type=\"hidden\" name=\"tempdata\"");
            BeginWriteAttribute("value", " value=\"", 1180, "\"", 1188, 0);
            EndWriteAttribute();
            WriteLiteral(" />\r\n    <input type=\"hidden\" name=\"resdata\"");
            BeginWriteAttribute("value", " value=\"", 1233, "\"", 1241, 0);
            EndWriteAttribute();
            WriteLiteral(" />\r\n    <div class=\"container-fluid\" style=\"padding:3px;\">\r\n        <div class=\"toolbar\">\r\n            <div class=\"pull-left\" style=\"line-height:35px;\">\r\n");
#nullable restore
#line 44 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                 if (Model.IsEditable)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <button type=\"button\" class=\"btn btn-link btn-xs\" name=\"createBtn\"");
            BeginWriteAttribute("title", " title=\"", 1542, "\"", 1574, 1);
#nullable restore
#line 46 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 1550, app.T["window_opennew"], 1550, 24, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <span class=\"glyphicon glyphicon-plus-sign\"></span> ");
#nullable restore
#line 47 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                       Write(app.T["new"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-link btn-xs\" name=\"deleteBtn\"><span class=\"glyphicon glyphicon-trash\"></span> ");
#nullable restore
#line 49 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                  Write(app.T["delete"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("</button>\r\n                    <button type=\"button\" class=\"btn btn-link btn-xs\" name=\"freshBtn\"><span class=\"glyphicon glyphicon-refresh\"></span> ");
#nullable restore
#line 50 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                   Write(app.T["refresh"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</button>
                    <button type=""button"" class=""btn btn-link btn-xs btnLocal"" name=""addRowBtnLocal""><span class=""glyphicon glyphicon-plus""></span> 插入行</button>
                    <button type=""button"" class=""btn btn-link btn-xs "" name=""saveBtnLocal""><span class=""glyphicon glyphicon-floppy-disk""></span>保存</button>
");
#nullable restore
#line 53 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 54 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                 if (Model.IsShowButtons && Model.RibbonButtons.NotEmpty())
                {
                    foreach (var btn in Model.RibbonButtons)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <a");
            BeginWriteAttribute("class", " class=\"", 2571, "\"", 2592, 1);
#nullable restore
#line 58 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 2579, btn.CssClass, 2579, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" href=\"javascript:void(0)\"");
            BeginWriteAttribute("onclick", " onclick=\"", 2619, "\"", 2642, 1);
#nullable restore
#line 58 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 2629, btn.JsAction, 2629, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><span");
            BeginWriteAttribute("class", " class=\"", 2649, "\"", 2666, 1);
#nullable restore
#line 58 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 2657, btn.Icon, 2657, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></span> ");
#nullable restore
#line 58 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                              Write(btn.Label);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n");
#nullable restore
#line 59 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </div>
            <div class=""pull-right"">
                <table style=""position:relative;"">
                    <tr>
                        <td>
                            <div class=""input-group input-group-sm col-sm-4"">
                                ");
#nullable restore
#line 67 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                           Write(Html.TextBoxFor(x => x.Q, new { @class = "form-control quickly-search-input", @style = "width:200px;", @placeholder = app.T["search_quickly"] }));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                <span class=\"input-group-btn\">\r\n                                    <button class=\"btn btn-default\" name=\"clearBtn\" type=\"button\"");
            BeginWriteAttribute("title", " title=\"", 3319, "\"", 3342, 1);
#nullable restore
#line 69 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 3327, app.T["clear"], 3327, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                                        <span class=""glyphicon glyphicon-remove-sign""></span>
                                    </button>
                                    <button class=""btn btn-default"" name=""searchBtn"" type=""button"">
                                        <span class=""glyphicon glyphicon-search""></span>
                                    </button>
                                </span>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class=""pos_re gridview"" id=""gridview"">
        <div");
            BeginWriteAttribute("class", " class=\"", 3996, "\"", 4004, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n            <div class=\"table-responsive tableReWidth\" id=\"tableReWidth\" style=\"min-height:200px;max-height:300px;\">\r\n                <table class=\"table table-hover table-striped table-condensed datatable tableheaderResize\"");
            BeginWriteAttribute("id", " id=\"", 4232, "\"", 4237, 0);
            EndWriteAttribute();
            WriteLiteral(" data-pageurl=\"");
#nullable restore
#line 86 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                          Write(app.Url);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-ajax=\"true\" data-ajaxcontainer=\"gridview\" data-sortby=\"");
#nullable restore
#line 86 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                Write(Model.SortBy.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-sortdirection=\"");
#nullable restore
#line 86 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                             Write(Model.SortDirection);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" style=\"border-top: 1px solid lightgrey; max-width:none;\">\r\n                    <thead>\r\n                        <tr>\r\n");
#nullable restore
#line 89 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                             if (Model.IsEditable)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                <th width=""24"" data-width=""24"" class=""tableHeaderItem"" style=""width:24px;""><input type=""checkbox"" name=""checkall"" /></th>
                                <th width=""30"" data-width=""30"" style=""width:30px;"" class=""tableHeaderItem""></th>
");
#nullable restore
#line 93 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 94 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                              var theadW = 0;

#line default
#line hidden
#nullable disable
#nullable restore
#line 95 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                             if (Model.IsEditable && Model.RelationShipName.IsNotEmpty())// && Model.ReferencedRecordId.HasValue)
                            {
                                theadW += 80;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <th class=\"tableHeaderItem\" data-width=\"40\" style=\"width:40px;\" data-operation=\"true\"></th>\r\n");
#nullable restore
#line 99 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 100 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                              
                                int i = 0, count = Model.Grid.Rows[0].Cells.Count;
                                foreach (var cell in Model.Grid.Rows[0].Cells)
                                {
                                    var isrelated = cell.Name.IndexOf(".") > 0;
                                    var k = isrelated ? cell.Name.Split('.')[1] : cell.Name.ToLower();
                                    var label = cell.Label;
                                    theadW += cell.Width;
                                    Xms.Schema.Domain.Attribute attr = null;
                                    if (!isrelated)
                                    {
                                        attr = Model.AttributeList.Find(n => n.EntityId == mainEntity.EntityId && n.Name.IsCaseInsensitiveEqual(k));
                                        //label = attr.LocalizedName;
                                    }
                                    else
                                    {
                                        attr = Model.AttributeList.Find(n => n.EntityName.IsCaseInsensitiveEqual(cell.EntityName) && n.Name.IsCaseInsensitiveEqual(k));
                                        //显示字段+引用字段
                                        //var relationship = Model.RelationShipList.Find(n => n.Name.IsCaseInsensitiveEqual(cell.Name.Split('.')[0]));
                                        //label = attr.LocalizedName + "(" + relationship.ReferencingAttributeLocalizedName + ")";
                                    }
                                    if (attr == null) { continue; }
                                    var width = i == count - 1 ? "" : "width:" + cell.Width + "px";

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <th class=\"tableHeaderItem\" data-width=\"");
#nullable restore
#line 123 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                       Write(cell.Width);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-name=\"");
#nullable restore
#line 123 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                               Write(cell.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("style", " style=\"", 7187, "\"", 7203, 1);
#nullable restore
#line 123 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 7195, width, 7195, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-label=\"");
#nullable restore
#line 123 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                  Write(label);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 123 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                     Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n                                    </th>\r\n");
#nullable restore
#line 125 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                    i++;
                                }

                            

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </tr>\r\n                        <input type=\"hidden\" id=\"tableHeaderWidth\" class=\"tableHeaderWidth\"");
            BeginWriteAttribute("value", " value=\"", 7538, "\"", 7553, 1);
#nullable restore
#line 130 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 7546, theadW, 7546, 7, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                    </thead>\r\n                    <tbody>\r\n");
#nullable restore
#line 133 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                         if (Model.IsEditable && Model.RelationShipName.IsNotEmpty())// && Model.ReferencedRecordId.HasValue)
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <tr class=\"editrow\" style=\"display:none;\">\r\n                                <td></td>\r\n                                <td class=\"row-num\"></td>\r\n                                <td>\r\n");
            WriteLiteral("                                    <button type=\"button\" class=\"btn btn-link btn-xs\" name=\"removeRowBtnLocal\"><span class=\"glyphicon glyphicon-minus-sign\"></span></button>\r\n");
            WriteLiteral("                                    <input type=\"hidden\" name=\"recordid\" />\r\n                                    <input type=\"hidden\" name=\"rownumber\" />\r\n                                </td>\r\n");
#nullable restore
#line 145 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                 foreach (var cell in Model.Grid.Rows[0].Cells)
                                {
                                    var isrelated = cell.Name.IndexOf(".") > 0;
                                    var k = isrelated ? cell.Name.Split('.')[1] : cell.Name.ToLower();
                                    var label = cell.Label;
                                    Xms.Schema.Domain.Attribute attr = null;
                                    if (!isrelated)
                                    {
                                        attr = Model.AttributeList.Find(n => n.EntityId == mainEntity.EntityId && n.Name.IsCaseInsensitiveEqual(k));
                                        //label = attr.LocalizedName;
                                    }
                                    else
                                    {
                                        attr = Model.AttributeList.Find(n => n.EntityName.IsCaseInsensitiveEqual(cell.EntityName) && n.Name.IsCaseInsensitiveEqual(k));
                                        //显示字段+引用字段
                                        //var relationship = Model.RelationShipList.Find(n => n.Name.IsCaseInsensitiveEqual(cell.Name.Split('.')[0]));
                                        //label = attr.LocalizedName + "(" + relationship.ReferencingAttributeLocalizedName + ")";
                                    }
                                    if (attr == null) { continue; }
                                    var inputName = (Model.RelationShipName.IfEmpty(attr.EntityName) + "_" + attr.Name).ToLower();
                                    var required = attr.IsRequired ? "required" : "";

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td data-name=\"");
#nullable restore
#line 166 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                              Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 166 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                               Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrequired=\"");
#nullable restore
#line 166 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                         Write(required);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 166 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                     Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-localizedname=\"");
#nullable restore
#line 166 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                           Write(attr.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n");
#nullable restore
#line 167 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                          
                                            if (attr.TypeIsLookUp())
                                            {
                                                if (attr.Name.IsCaseInsensitiveEqual("createdby") || attr.Name.IsCaseInsensitiveEqual("modifiedby"))
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                  Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 11081, "\"", 11141, 3);
            WriteAttributeValue("", 11089, "form-control", 11089, 12, true);
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("  ", 11101, isrelated ? "" : "lookup", 11103, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("  ", 11131, "input-sm", 11133, 10, true);
            EndWriteAttribute();
            BeginWriteAttribute("name", " name=\"", 11142, "\"", 11171, 1);
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 11149, inputName + "_text", 11149, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                    Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                     Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-value=\"\" data-lookup=\"");
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                    Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                               Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 11372, "\"", 11425, 1);
#nullable restore
#line 172 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 11380, !isrelated ? app.CurrentUser.UserName : "", 11380, 45, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" disabled />\r\n");
#nullable restore
#line 173 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                }
                                                else
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                  Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 11694, "\"", 11762, 4);
            WriteAttributeValue("", 11702, "form-control", 11702, 12, true);
            WriteAttributeValue(" ", 11714, "input-sm", 11715, 9, true);
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 11723, isrelated ? "" : "lookup", 11724, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 11752, "typeahead", 11753, 10, true);
            EndWriteAttribute();
            BeginWriteAttribute("name", " name=\"", 11763, "\"", 11792, 1);
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 11770, inputName + "_text", 11770, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                            Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                             Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                        Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-value=\"\" data-lookup=\"");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                            Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                       Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" ");
#nullable restore
#line 176 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                          Write(isrelated ? "disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n                                                    <input type=\"hidden\"");
            BeginWriteAttribute("name", " name=\"", 12101, "\"", 12120, 1);
#nullable restore
#line 177 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 12108, inputName, 12108, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-isedit=\"true\" data-name=\"");
#nullable restore
#line 177 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                      Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"lookup\" data-controltype=\"lookup\" data-value=\"\" data-lookup=\"");
#nullable restore
#line 177 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                    Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 177 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                               Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n");
#nullable restore
#line 178 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                }
                                            }
                                            else if (attr.TypeIsDateTime())
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"form-control  input-sm datepicker datetime\" data-isedit=\"true\"");
            BeginWriteAttribute("name", " name=\"", 12695, "\"", 12714, 1);
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 12702, inputName, 12702, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                           Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                     Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-format=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                    Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-dataformat=\"");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                       Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 12928, "\"", 13093, 1);
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 12936, !isrelated && (attr.Name.IsCaseInsensitiveEqual("createdon") || attr.Name.IsCaseInsensitiveEqual("modifiedon")) ? DateTime.Now.ToString("yyyy-MM-dd") : "", 12936, 157, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" ");
#nullable restore
#line 182 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Write(isrelated || attr.Name.IsCaseInsensitiveEqual("createdon") || attr.Name.IsCaseInsensitiveEqual("modifiedon") ? " disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n");
#nullable restore
#line 183 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }
                                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 188 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                   
                                            else if (attr.TypeIsOwner())
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 14470, "\"", 14536, 4);
            WriteAttributeValue("", 14478, "form-control", 14478, 12, true);
            WriteAttributeValue(" ", 14490, "input-sm", 14491, 9, true);
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("  ", 14499, isrelated ? "" : "lookup", 14501, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("  ", 14529, "owner", 14531, 7, true);
            EndWriteAttribute();
            WriteLiteral(" data-isedit=\"true\"");
            BeginWriteAttribute("name", " name=\"", 14556, "\"", 14585, 1);
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 14563, inputName + "_text", 14563, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                         Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                          Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                     Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-lookup=\"");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                           Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                      Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 14772, "\"", 14825, 1);
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 14780, !isrelated ? app.CurrentUser.UserName : "", 14780, 45, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" ");
#nullable restore
#line 191 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                               Write(isrelated ? " disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n                                                <input type=\"hidden\" data-isrelated=\"");
#nullable restore
#line 192 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("name", " name=\"", 14959, "\"", 14978, 1);
#nullable restore
#line 192 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 14966, inputName, 14966, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 192 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                           Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"lookup\" data-controltype=\"lookup\" data-value=\"\" data-lookup=\"");
#nullable restore
#line 192 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                         Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 192 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                    Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 15145, "\"", 15213, 1);
#nullable restore
#line 192 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 15153, !isrelated ? app.CurrentUser.SystemUserId.ToString() : "", 15153, 60, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n");
#nullable restore
#line 193 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }
                                            else if (attr.TypeIsPickList() || attr.TypeIsBit() || attr.TypeIsState() || attr.TypeIsStatus())
                                            {
                                                if (isrelated)
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 198 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                  Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"form-control input-sm\"");
            BeginWriteAttribute("name", " name=\"", 15698, "\"", 15717, 1);
#nullable restore
#line 198 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 15705, inputName, 15705, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 198 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                           Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 198 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                            Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 198 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                       Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 198 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                 Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" disabled />\r\n");
#nullable restore
#line 199 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                }
                                                else
                                                {
                                                    var itemStr = (attr.TypeIsPickList() || attr.TypeIsStatus()) ? attr.OptionSet.Items.SerializeToJson() : attr.PickLists.SerializeToJson();

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                  Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 16324, "\"", 16377, 3);
            WriteAttributeValue("", 16332, "form-control", 16332, 12, true);
            WriteAttributeValue(" ", 16344, "input-sm", 16345, 9, true);
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 16353, attr.AttributeTypeName, 16354, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-isedit=\"true\"");
            BeginWriteAttribute("name", " name=\"", 16397, "\"", 16416, 1);
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 16404, inputName, 16404, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                      Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                       Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                  Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                            Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-items=\"");
#nullable restore
#line 203 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                           Write(Html.UrlEncoder.Encode(itemStr));

#line default
#line hidden
#nullable disable
            WriteLiteral("\" />\r\n");
#nullable restore
#line 204 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                }
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 16906, "\"", 17004, 6);
            WriteAttributeValue("", 16914, "form-control", 16914, 12, true);
            WriteAttributeValue(" ", 16926, "isvalidata", 16927, 11, true);
            WriteAttributeValue(" ", 16937, "normal-input", 16938, 13, true);
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 16950, isrelated ? "" : @attr.AttributeTypeName, 16951, 43, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 16994, "input-sm", 16995, 9, true);
            WriteAttributeValue(" ", 17003, "", 17004, 1, true);
            EndWriteAttribute();
            BeginWriteAttribute("name", " name=\"", 17005, "\"", 17024, 1);
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 17012, inputName, 17012, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                            Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isedit=\"true\" data-type=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                           Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-format=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                 Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-dataformat=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                    Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                       Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" ");
#nullable restore
#line 208 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                          Write(isrelated ? " disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n");
#nullable restore
#line 209 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }
                                        

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    </td>\r\n");
#nullable restore
#line 212 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </tr>\r\n");
#nullable restore
#line 214 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 215 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                          
                            var primaryKey = Model.AttributeList.Find(n => n.EntityId == mainEntity.EntityId && n.TypeIsPrimaryKey());
                            var primaryField = Model.AttributeList.Find(n => n.EntityId == mainEntity.EntityId && n.IsPrimaryField == true);
                            int rowNum = 0;
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 220 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                         foreach (var item in Model.Items)
                        {
                            rowNum++;
                            var lines = (item as IDictionary<string, object>).ToList();
                            var id = lines.Find(n => n.Key.IsCaseInsensitiveEqual(primaryKey.Name)).Value;

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <tr data-dbclick=\"Xms.Web.OpenWindow(ORG_SERVERURL+\'/entity/create?entityid=");
#nullable restore
#line 225 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                   Write(mainEntity.EntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("&recordid=");
#nullable restore
#line 225 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                 Write(id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\')\" data-isinit=\"true\">\r\n");
#nullable restore
#line 226 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                 if (Model.IsEditable)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td>\r\n                                        <input type=\"checkbox\" name=\"recordid\"");
            BeginWriteAttribute("value", " value=\"", 18598, "\"", 18609, 1);
#nullable restore
#line 229 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 18606, id, 18606, 3, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-primarykey=\"");
#nullable restore
#line 229 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                       Write(primaryKey.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" />\r\n                                        <input type=\"hidden\" name=\"rownumber\"");
            BeginWriteAttribute("value", " value=\"", 18727, "\"", 18742, 1);
#nullable restore
#line 230 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 18735, rowNum, 18735, 7, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                                    </td>\r\n                                    <td class=\"row-num\">");
#nullable restore
#line 232 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                   Write(rowNum);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 233 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 234 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                 if (Model.IsEditable && Model.RelationShipName.IsNotEmpty())// && Model.ReferencedRecordId.HasValue)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td data-operation=\"true\">\r\n");
            WriteLiteral(@"                                        <div class=""btn-group"">
                                            <button type=""button"" class=""btn btn-link btn-xs"" name=""removeRowBtn""><span class=""glyphicon glyphicon-remove""></span></button>
                                        </div>
                                    </td>
");
#nullable restore
#line 251 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 252 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                 foreach (var cell in Model.Grid.Rows[0].Cells)
                                {
                                    var columnName = cell.Name.ToLower();
                                    var isrelated = columnName.IndexOf(".") > 0;
                                    var attrName = isrelated ? columnName.Split('.')[1] : columnName;
                                    Xms.Schema.Domain.Attribute attr = null;
                                    if (isrelated)
                                    {
                                        attr = Model.AttributeList.Find(n => n.EntityName.IsCaseInsensitiveEqual(cell.EntityName) && n.Name.IsCaseInsensitiveEqual(attrName));
                                    }
                                    else
                                    {
                                        attr = Model.AttributeList.Find(n => n.EntityId == mainEntity.EntityId && n.Name.IsCaseInsensitiveEqual(attrName));
                                    }
                                    var inputName = (Model.RelationShipName.IfEmpty(attr.EntityName) + "_" + attr.Name).ToLower();
                                    var required = attr.IsRequired ? "required" : "";
                                    if (attr.TypeIsPrimaryKey() || attr.TypeIsLookUp() || attr.TypeIsOwner())
                                    {
                                        columnName = attr.TypeIsPrimaryKey() ? primaryField.Name : columnName += "Name";
                                        var value = lines.Find(n => n.Key.IsCaseInsensitiveEqual(columnName)).Value;
                                        var recordid = lines.Find(n => n.Key.IsCaseInsensitiveEqual(cell.Name)).Value;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <td data-name=\"");
#nullable restore
#line 273 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 273 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrequired=\"");
#nullable restore
#line 273 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                             Write(required);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 273 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                         Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-localizedname=\"");
#nullable restore
#line 273 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n");
#nullable restore
#line 274 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                             if (!Model.IsEditable)
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <a");
            BeginWriteAttribute("href", " href=\"", 22442, "\"", 22547, 5);
#nullable restore
#line 276 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 22449, "/"+app.OrganizationUniqueName, 22449, 33, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 22482, "/entity/edit?entityid=", 22482, 22, true);
#nullable restore
#line 276 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 22504, attr.ReferencedEntityId, 22504, 24, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 22528, "&recordid=", 22528, 10, true);
#nullable restore
#line 276 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 22538, recordid, 22538, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\">");
#nullable restore
#line 276 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                        Write(value);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n");
#nullable restore
#line 277 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\"");
            BeginWriteAttribute("class", " class=\"", 22787, "\"", 22856, 4);
            WriteAttributeValue("", 22795, "form-control", 22795, 12, true);
            WriteAttributeValue(" ", 22807, "input-sm", 22808, 9, true);
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("  ", 22816, isrelated ? "" : "lookup", 22818, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue(" ", 22846, "typeahead", 22847, 10, true);
            EndWriteAttribute();
            BeginWriteAttribute("name", " name=\"", 22857, "\"", 22886, 1);
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 22864, inputName + "_text", 22864, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-isrelated=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                  Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-name=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                         Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                          Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                     Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-value=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                          Write(recordid);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 23050, "\"", 23064, 1);
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 23058, value, 23058, 6, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-lookup=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                 Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                            Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" ");
#nullable restore
#line 280 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                               Write(isrelated ? "disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" />\r\n                                                <input type=\"hidden\"");
            BeginWriteAttribute("name", " name=\"", 23243, "\"", 23262, 1);
#nullable restore
#line 281 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 23250, inputName, 23250, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-isedit=\"true\" data-name=\"");
#nullable restore
#line 281 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"lookup\" data-controltype=\"lookup\"");
            BeginWriteAttribute("value", " value=\"", 23360, "\"", 23377, 1);
#nullable restore
#line 281 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 23368, recordid, 23368, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-lookup=\"");
#nullable restore
#line 281 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                    Write(attr.ReferencedEntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrelated=\"");
#nullable restore
#line 281 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 281 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                           Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n");
#nullable restore
#line 282 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </td>\r\n");
#nullable restore
#line 284 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                    }
                                    else if (attr.TypeIsPickList() || attr.TypeIsState() || attr.TypeIsStatus())
                                    {
                                        columnName += "Name";
                                        var value = lines.Find(n => n.Key.IsCaseInsensitiveEqual(columnName)).Value;
                                        var valuenum = lines.Find(n => n.Key.IsCaseInsensitiveEqual(cell.Name.ToLower())).Value;


#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <td data-name=\"");
#nullable restore
#line 291 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 291 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrequired=\"");
#nullable restore
#line 291 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                             Write(required);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 291 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                         Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-localizedname=\"");
#nullable restore
#line 291 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n");
#nullable restore
#line 292 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                             if (isrelated)
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"form-control input-sm\"");
            BeginWriteAttribute("name", " name=\"", 24533, "\"", 24552, 1);
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 24540, inputName, 24540, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                       Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                        Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                             Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 24700, "\"", 24717, 1);
#nullable restore
#line 294 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 24708, valuenum, 24708, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" disabled />\r\n");
#nullable restore
#line 295 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }
                                            else
                                            {
                                                var itemStr = (attr.TypeIsPickList() || attr.TypeIsStatus()) ? attr.OptionSet.Items.SerializeToJson() : attr.PickLists.SerializeToJson();

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\"");
            BeginWriteAttribute("class", " class=\"", 25129, "\"", 25182, 3);
            WriteAttributeValue("", 25137, "form-control", 25137, 12, true);
            WriteAttributeValue(" ", 25149, "input-sm", 25150, 9, true);
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 25158, attr.AttributeTypeName, 25159, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-isedit=\"true\"");
            BeginWriteAttribute("name", " name=\"", 25202, "\"", 25221, 1);
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 25209, inputName, 25209, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                      Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrelated=\"");
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                            Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                              Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                        Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 25397, "\"", 25414, 1);
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 25405, valuenum, 25405, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-items=\"");
#nullable restore
#line 299 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                         Write(Html.UrlEncoder.Encode(itemStr));

#line default
#line hidden
#nullable disable
            WriteLiteral("\" />\r\n");
#nullable restore
#line 300 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </td>\r\n");
#nullable restore
#line 302 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"

                                    }
                                    else if (attr.TypeIsBit())
                                    {
                                        columnName += "Name";
                                        var value = lines.Find(n => n.Key.IsCaseInsensitiveEqual(columnName)).Value;
                                        String valuenum = lines.Find(n => n.Key.IsCaseInsensitiveEqual(cell.Name.ToLower())).Value + "";


#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <td data-name=\"");
#nullable restore
#line 310 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 310 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrequired=\"");
#nullable restore
#line 310 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                             Write(required);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 310 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                         Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-localizedname=\"");
#nullable restore
#line 310 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n");
#nullable restore
#line 311 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                             if (isrelated)
                                            {
                                                if (valuenum == "True")
                                                {
                                                    valuenum = "是";
                                                }
                                                else if (valuenum == "False")
                                                {
                                                    valuenum = "否";
                                                }
                                                else
                                                {
                                                    valuenum = "";
                                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"form-control input-sm\"");
            BeginWriteAttribute("name", " name=\"", 27196, "\"", 27215, 1);
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 27203, inputName, 27203, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                       Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                        Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                             Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 27363, "\"", 27380, 1);
#nullable restore
#line 325 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 27371, valuenum, 27371, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" disabled />\r\n");
#nullable restore
#line 326 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }
                                            else
                                            {
                                                var itemStr = (attr.TypeIsPickList() || attr.TypeIsStatus()) ? attr.OptionSet.Items.SerializeToJson() : attr.PickLists.SerializeToJson();
                                                if (valuenum == "True")
                                                {
                                                    valuenum = "1";
                                                }
                                                else if (valuenum == "False")
                                                {
                                                    valuenum = "0";
                                                }
                                                else
                                                {
                                                    valuenum = "";
                                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <input type=\"text\" data-isrelated=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                              Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 28538, "\"", 28591, 3);
            WriteAttributeValue("", 28546, "form-control", 28546, 12, true);
            WriteAttributeValue(" ", 28558, "input-sm", 28559, 9, true);
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 28567, attr.AttributeTypeName, 28568, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-isedit=\"true\"");
            BeginWriteAttribute("name", " name=\"", 28611, "\"", 28630, 1);
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 28618, inputName, 28618, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                              Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                        Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-value=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                      Write(valuenum);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 28801, "\"", 28818, 1);
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 28809, valuenum, 28809, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-items=\"");
#nullable restore
#line 342 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                Write(Html.UrlEncoder.Encode(itemStr));

#line default
#line hidden
#nullable disable
            WriteLiteral("\" />\r\n");
#nullable restore
#line 343 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </td>\r\n");
#nullable restore
#line 345 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"

                                    }
                                    else if (attr.TypeIsDateTime())
                                    {
                                        var value = lines.Find(n => n.Key.IsCaseInsensitiveEqual(columnName)).Value;
                                        value = string.Format("{0:G}", value);


#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <td data-name=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrequired=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                             Write(required);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                         Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-localizedname=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"><input type=\"text\" class=\"form-control isvalidata input-sm datepicker datetime\" data-isedit=\"true\"");
            BeginWriteAttribute("name", " name=\"", 29630, "\"", 29649, 1);
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 29637, inputName, 29637, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 29650, "\"", 29664, 1);
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 29658, value, 29658, 6, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-dataformat=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                           Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-format=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                          Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-name=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                       Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" ");
#nullable restore
#line 352 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Write(isrelated || attr.Name.IsCaseInsensitiveEqual("createdon") || attr.Name.IsCaseInsensitiveEqual("modifiedon") ? " disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" /></td>\r\n");
#nullable restore
#line 353 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"

                                    }
                                    else
                                    {
                                        var value = lines.Find(n => n.Key.IsCaseInsensitiveEqual(columnName)).Value;
                                        var precision = "";
                                        if (value != null && (attr.TypeIsDecimal()
                                                        || attr.TypeIsFloat()))
                                        {
                                            value = string.Format("{0:N" + attr.Precision + "}", value);
                                            precision = attr.Precision.ToString();
                                        }
                                        else if (value != null && attr.TypeIsMoney())
                                        {
                                            value = string.Format("{0:N" + attr.Precision + "}", value);
                                            precision = attr.Precision.ToString();
                                        }
                                        else if (value != null && attr.TypeIsDateTime())
                                        {
                                            value = string.Format("{0:G}", value);
                                        }
                                        //else if (attr.IsPrimaryField)
                                        //{
                                        //    value = value;//string.Format("<a href=\"/entity/create?entityid={0}&recordid={1}\" target=\"_blank\">{2}</a>", mainEntity.EntityId, id, value);
                                        //}
                                        else if (attr.TypeIsNvarchar())
                                        {
                                            if (attr.DataFormat == "url" && value != null && value.ToString().IsNotEmpty())
                                            {
                                                var link = string.Format("<a href=\"{0}\" title=\"新窗口打开\" target=\"_blank\"><span class=\"glyphicon glyphicon-share-alt\"></span></a>", value);

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <td data-name=\"");
#nullable restore
#line 383 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                          Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" class=\"datatype-link\" data-attributetypename=\"");
#nullable restore
#line 383 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                              Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\">\r\n                                                    ");
#nullable restore
#line 384 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                               Write(link);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                                    <span class=""glyphicon glyphicon-edit"" onclick=""$(this).hide();$(this).prev().hide();$(this).next().removeClass('hide').focus()""></span>
                                                    <input type=""text"" data-isrelated=""");
#nullable restore
#line 386 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                  Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("value", " value=\"", 32725, "\"", 32739, 1);
#nullable restore
#line 386 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 32733, value, 32733, 6, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" onchange=""$(this).addClass('hide');$(this).prev().show();$(this).prev().prev().show().attr('href',$(this).val());$(this).next().val($(this).val()).trigger('change');"" onblur=""$(this).addClass('hide');$(this).prev().show();$(this).prev().prev().show().attr('href',$(this).val());$(this).next().val($(this).val());"" class=""form-control hide"" />
                                                    <input type=""hidden"" data-isrelated=""");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                    Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("class", " class=\"", 33185, "\"", 33262, 5);
            WriteAttributeValue("", 33193, "form-control", 33193, 12, true);
            WriteAttributeValue(" ", 33205, "normal-input", 33206, 13, true);
            WriteAttributeValue(" ", 33218, "isvalidata", 33219, 11, true);
            WriteAttributeValue(" ", 33229, "input-sm", 33230, 9, true);
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 33238, attr.AttributeTypeName, 33239, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-dataformat=\"");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("name", " name=\"", 33298, "\"", 33317, 1);
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 33305, inputName, 33305, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isedit=\"true\" data-type=\"");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                    Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                               Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                         Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" ");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                            Write(isrelated ? " disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" value=\"");
#nullable restore
#line 387 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                  Write(value);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" />\r\n                                                </td>\r\n");
#nullable restore
#line 389 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                continue;
                                            }
                                        }


#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <td data-name=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                  Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-type=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrequired=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                             Write(required);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                         Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-localizedname=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                               Write(attr.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"><input type=\"text\"");
            BeginWriteAttribute("class", " class=\"", 33977, "\"", 34054, 5);
            WriteAttributeValue("", 33985, "form-control", 33985, 12, true);
            WriteAttributeValue(" ", 33997, "normal-input", 33998, 13, true);
            WriteAttributeValue(" ", 34010, "isvalidata", 34011, 11, true);
            WriteAttributeValue(" ", 34021, "input-sm", 34022, 9, true);
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue(" ", 34030, attr.AttributeTypeName, 34031, 23, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-dataformat=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                      Write(attr.DataFormat);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isrelated=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                        Write(isrelated);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"");
            BeginWriteAttribute("name", " name=\"", 34118, "\"", 34137, 1);
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 34125, inputName, 34125, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" data-name=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                   Write(attr.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-precision=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                         Write(precision);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-isedit=\"true\" data-type=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-controltype=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Write(attr.AttributeTypeName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-entityname=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Write(attr.EntityName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" ");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Write(isrelated ? " disabled" : "");

#line default
#line hidden
#nullable disable
            WriteLiteral(" value=\"");
#nullable restore
#line 393 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Write(value);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" /></td>\r\n");
#nullable restore
#line 394 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"

                                    }
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </tr>\r\n");
#nullable restore
#line 398 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </tbody>\r\n                </table>\r\n            </div>\r\n");
#nullable restore
#line 402 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
             if (Model.PagingEnabled)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div");
            BeginWriteAttribute("class", " class=\"", 34677, "\"", 34735, 2);
            WriteAttributeValue("", 34685, "panel-footer", 34685, 12, true);
#nullable restore
#line 404 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 34697, Model.TotalItems > 0 ? "" : " hide", 34697, 38, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" style=\"padding:3px; margin-bottom:55px;\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-4\">\r\n                            ");
#nullable restore
#line 407 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                        Write(app.T["pagination_label"].Replace("{page}", Model.Page.ToString()).Replace("{totalpages}", Model.TotalPages.ToString()).Replace("{totalitems}", Model.TotalItems.ToString()));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                        </div>\r\n                        <div id=\"page-selection\" class=\"col-sm-8\" data-total=\"");
#nullable restore
#line 409 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                         Write(Model.TotalPages);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" data-page=\"");
#nullable restore
#line 409 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                                                                                                       Write(Model.Page);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"></div>\r\n                    </div>\r\n                </div>\r\n");
#nullable restore
#line 412 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n    </div>\r\n</div>\r\n\r\n<script");
            BeginWriteAttribute("src", " src=\"", 35345, "\"", 35422, 2);
            WriteAttributeValue("", 35351, "/content/js/jquery.bootpag.min.js?v=", 35351, 36, true);
#nullable restore
#line 417 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 35387, app.PlatformSettings.VersionNumber, 35387, 35, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></script>\r\n<script");
            BeginWriteAttribute("src", " src=\"", 35442, "\"", 35512, 2);
            WriteAttributeValue("", 35448, "/content/js/jquery.form.js?v=", 35448, 29, true);
#nullable restore
#line 418 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 35477, app.PlatformSettings.VersionNumber, 35477, 35, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></script>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "e1df7d214d79fe2f9cf433125a977d3cee556c57140712", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            BeginAddHtmlAttributeValues(__tagHelperExecutionContext, "src", 2, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            AddHtmlAttributeValue("", 35538, "~/content/js/fetch.js?v=", 35538, 24, true);
#nullable restore
#line 419 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
AddHtmlAttributeValue("", 35562, app.PlatformSettings.VersionNumber, 35562, 35, false);

#line default
#line hidden
#nullable disable
            EndAddHtmlAttributeValues(__tagHelperExecutionContext);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
#nullable restore
#line 420 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
 foreach (var item in jsLibs)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <script");
            BeginWriteAttribute("src", " src=\"", 35655, "\"", 35666, 1);
#nullable restore
#line 422 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 35661, item, 35661, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></script>\r\n");
#nullable restore
#line 423 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 424 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
 if (resources.Count > 0)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <script");
            BeginWriteAttribute("src", " src=\"", 35723, "\"", 35813, 3);
#nullable restore
#line 426 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 35729, "/"+app.OrganizationUniqueName, 35729, 33, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 35762, "/api/webresource?ids=", 35762, 21, true);
#nullable restore
#line 426 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 35783, string.Join(",", resources), 35783, 30, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></script>\r\n");
#nullable restore
#line 427 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral("<script>\r\n    var pageRenderGridViewInfo = {\r\n        sectionid: \'#");
#nullable restore
#line 431 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                Write(gridid);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        gridid: \'");
#nullable restore
#line 432 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
            Write(Model.GridId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        iseditable:true,\r\n        pageUrl: $(\"#");
#nullable restore
#line 434 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                Write(gridid);

#line default
#line hidden
#nullable disable
            WriteLiteral(" .datatable\").attr(\'data-pageurl\'),\r\n        queryid: \'");
#nullable restore
#line 435 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
             Write(Model.QueryViewId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        entityid: \'");
#nullable restore
#line 436 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
              Write(Model.EntityId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        entityname: \'");
#nullable restore
#line 437 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                Write(mainEntity.Name.ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        entityloclaizedname: \'");
#nullable restore
#line 438 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                         Write(mainEntity.LocalizedName);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        filters: ");
#nullable restore
#line 439 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
            Write(Html.Raw(Model.Filter.SerializeToJson()));

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n        sortby: \'");
#nullable restore
#line 440 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
            Write(Model.SortBy);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        sortdir: \'");
#nullable restore
#line 441 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
             Write(Model.SortDirection);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        q: \'");
#nullable restore
#line 442 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
       Write(Model.Q);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        defaultEmptyRows: \'");
#nullable restore
#line 443 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                      Write(Model.DefaultEmptyRows);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',//初始化行数\r\n        pagingEnabled: ");
#nullable restore
#line 444 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                   Write(Model.PagingEnabled ? "true":"false");

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n        qfield: \'");
#nullable restore
#line 445 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
            Write(Model.QField);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        page: ");
#nullable restore
#line 446 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
         Write(Model.Page);

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n        pagesize: ");
#nullable restore
#line 447 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
             Write(Model.PageSize);

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n        relationshipmeta: ");
#nullable restore
#line 448 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                     Write(Html.Raw(Model.RelationShipMeta != null ? Model.RelationShipMeta.SerializeToJson() : "null"));

#line default
#line hidden
#nullable disable
            WriteLiteral(",\r\n        relationshipname: \'");
#nullable restore
#line 449 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                      Write(Model.RelationShipName.IfEmpty("").ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        referencedrecordid: \'");
#nullable restore
#line 450 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                        Write(Model.ReferencedRecordId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        referencingattributename: \'");
#nullable restore
#line 451 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                               Write(Model.RelationShipMeta != null? Model.RelationShipMeta.ReferencingAttributeName.IfEmpty("").ToLower():"");

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
        //gridconfig:[{""name"":""productid"", ""editable"":true},{""name"":""quantity"", ""editable"":true, ""onchange"":{""func"":""update"",""target"":""amount""}},{""name"":""price"", ""editable"":true, ""bind"":""model.price"", ""onchange"":{""func"":""update"",""target"":""amount""}},{""name"":""discountamount"", ""editable"":true, ""onchange"":{""func"":""update"",""target"":""amount""}},{""name"":""amount"", ""editable"":false, ""exp"":""row.price*row.quantity-row.discountamount""}],
        records: [],
        nameprefix: '");
#nullable restore
#line 454 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
                Write(Model.RelationShipName.IfEmpty(mainEntity.Name).ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral("\' + \'_\',\r\n        editrowmodel: null,\r\n        createmode: Xms.Page && Xms.Page.PageContext && Xms.Page.PageContext.RecordId == null ? \'local\' : \'server\'//local or server\r\n    }\r\n</script>\r\n<script");
            BeginWriteAttribute("src", " src=\"", 37789, "\"", 37875, 2);
            WriteAttributeValue("", 37795, "/content/js/pages/entity.rendergridview.js?v=", 37795, 45, true);
#nullable restore
#line 459 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Entity\RenderGridView.cshtml"
WriteAttributeValue("", 37840, app.PlatformSettings.VersionNumber, 37840, 35, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@"></script>
<script>

        function formSaveSubGrid(){
            var check = checkSubGridData();
            //console.log('checkxxxxxxxxxxxxxxxxx',check)
            if(!check)return false;
            var flag = true;
            for(var key in GridViewModel){
                var sfl = true;
                if(GridViewModel.hasOwnProperty(key)){
                    sfl = GridViewModel[key].savetable();
                }
                if(sfl==false){
                    flag = false;
                    //break;
                }
            }
            console.log('flag',flag);
            if(flag){
                var res = [];
                $('input[name=""resdata""]').each(function(){
                    if(!$(this).val()||$(this).val()=="""")return true;
                    var temp = JSON.parse(decodeURIComponent($(this).val()));
                    res = res.concat(temp);
                });
                $('input[name=""child""]').val('').val(encodeURIComponent(JSON.st");
            WriteLiteral(@"ringify(res)));
                console.log('提交单据体的数据',res)
                //console.log('提交单据体的数据2',JSON.parse(decodeURIComponent(resultValue)));
                dirtyChecker.isDirty = true;
            }
            return flag;
        }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Xms.Web.Framework.Context.IWebAppContext app { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Xms.Web.Models.EntityGridModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
