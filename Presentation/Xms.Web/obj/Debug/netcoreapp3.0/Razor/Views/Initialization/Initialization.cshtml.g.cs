#pragma checksum "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c9252e5ece9461840c10b416bf530bb89e80c8e6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Initialization_Initialization), @"mvc.1.0.view", @"/Views/Initialization/Initialization.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Core;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Infrastructure.Utility;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Web.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\projects\xms_v2\Presentation\Xms.Web\Views\_ViewImports.cshtml"
using Xms.Web.Framework;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c9252e5ece9461840c10b416bf530bb89e80c8e6", @"/Views/Initialization/Initialization.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4b0011d9a8909cdacaf42363c4ba3a5683bc0ece", @"/Views/_ViewImports.cshtml")]
    public class Views_Initialization_Initialization : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Xms.Web.Models.DbConfigurationModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/content/customize/layui/css/layui.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("initForm"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("action", new global::Microsoft.AspNetCore.Html.HtmlString("/xms/api/initialization"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("data-jsonajax", new global::Microsoft.AspNetCore.Html.HtmlString("true"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/content/js/jquery-ui-1.10.3/ui/jquery.ui.effect.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml"
  
    Layout = null;

#line default
#line hidden
#nullable disable
            WriteLiteral("<!DOCTYPE html>\r\n<html lang=\"en\">\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c9252e5ece9461840c10b416bf530bb89e80c8e67267", async() => {
                WriteLiteral(@"
    <meta charset=""utf-8"">
    <meta http-equiv=""X-UA-Compatible"" content=""IE=edge"">
    <meta name=""viewport"" content=""width=device-width, initial-scale=1"">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name=""description"" content=""xms"">
    <meta name=""author"" content=""xms"">
    <link rel=""icon"" href=""/favicon.ico"">

    <title>初始化</title>
    <link href=""/content/css/bootstrap3.3.5/bootstrap.min.css?v=1.0.0"" rel=""stylesheet"">
    <link href=""/content/css/init.css"" rel=""stylesheet"" />
    <link href=""/content/js/jquery-toast/jquery.toast.min.css"" rel=""stylesheet"">
    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "c9252e5ece9461840c10b416bf530bb89e80c8e68160", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n    <link href=\"/content/css/loaders.css\" rel=\"stylesheet\" />\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c9252e5ece9461840c10b416bf530bb89e80c8e610111", async() => {
                WriteLiteral("\r\n\r\n    <div class=\"center-wrap\">\r\n        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c9252e5ece9461840c10b416bf530bb89e80c8e610417", async() => {
                    WriteLiteral(@"
            <div class=""init-check-step"" id=""init_step1"">
                <div class=""form-group"">
                    <div class=""input-group"">
                        <span class=""input-group-addon"">服务器地址：</span>
                        <input type=""text"" name=""DataServerName"" id=""host"" autocomplete=""off"" class=""form-text loginname"" placeholder=""服务器地址"" required");
                    BeginWriteAttribute("value", " value=\"", 1370, "\"", 1399, 1);
#nullable restore
#line 31 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml"
WriteAttributeValue("", 1378, Model.DataServerName, 1378, 21, false);

#line default
#line hidden
#nullable disable
                    EndWriteAttribute();
                    WriteLiteral(@" autofocus />
                    </div>
                </div>
                <div class=""form-group"">
                    <div class=""input-group"">
                        <span class=""input-group-addon"">用户名：</span>
                        <input type=""text"" name=""DataAccountName"" id=""LoginName"" autocomplete=""off"" class=""form-text loginname"" placeholder=""用户名"" required");
                    BeginWriteAttribute("value", " value=\"", 1779, "\"", 1809, 1);
#nullable restore
#line 37 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml"
WriteAttributeValue("", 1787, Model.DataAccountName, 1787, 22, false);

#line default
#line hidden
#nullable disable
                    EndWriteAttribute();
                    WriteLiteral(@" />
                    </div>
                </div>
                <div class=""form-group"">
                    <div class=""input-group"">
                        <span class=""input-group-addon"">密码：</span>
                        <input type=""text"" name=""DataPassword"" id=""password"" autocomplete=""off"" class=""form-text loginpwd"" placeholder=""密码"" required");
                    BeginWriteAttribute("value", " value=\"", 2172, "\"", 2199, 1);
#nullable restore
#line 43 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml"
WriteAttributeValue("", 2180, Model.DataPassword, 2180, 19, false);

#line default
#line hidden
#nullable disable
                    EndWriteAttribute();
                    WriteLiteral(@" />
                    </div>
                </div>
                <div class=""form-group"">
                    <div class=""input-group"">
                        <span class=""input-group-addon"">数据库名：</span>
                        <input type=""text"" name=""DatabaseName"" id=""databasename"" autocomplete=""off"" class=""form-text loginpwd"" placeholder=""数据库名"" required");
                    BeginWriteAttribute("value", " value=\"", 2570, "\"", 2597, 1);
#nullable restore
#line 49 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml"
WriteAttributeValue("", 2578, Model.DatabaseName, 2578, 19, false);

#line default
#line hidden
#nullable disable
                    EndWriteAttribute();
                    WriteLiteral(@" />
                    </div>
                </div>
                <div class=""form-group hide"">
                    <div class=""input-group"">
                        <span class=""input-group-addon"">连接超时设置：</span>
                        <input type=""text"" name=""CommandTimeOut"" id=""databasetimeout"" autocomplete=""off"" class=""form-text loginpwd"" placeholder=""连接超时设置"" required");
                    BeginWriteAttribute("value", " value=\"", 2982, "\"", 3011, 1);
#nullable restore
#line 55 "G:\projects\xms_v2\Presentation\Xms.Web\Views\Initialization\Initialization.cshtml"
WriteAttributeValue("", 2990, Model.CommandTimeOut, 2990, 21, false);

#line default
#line hidden
#nullable disable
                    EndWriteAttribute();
                    WriteLiteral(@" />
                    </div>
                </div>
                <div class=""init-check-step hide"" id=""init_step2"">
                    <table class=""table text-white"">
                        <thead>
                            <tr>
                                <th>组织名</th>
                                <th>数据库名</th>
                                <th>数据库用户名</th>
                                <th>数据库密码</th>
                                <th>数据库地址</th>
                            </tr>
                        </thead>
                        <tbody id=""orginfolist"">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class=""form-group text-center"">
                <button class=""btn login-submit login check-btn"" id=""checkbtn"" type=""button"">测试</button><span class=""checklink-state glyphicon glyphicon-ok text-success hide""></span>
                <button class=""btn login-submit login check-btn"" style=""display");
                    WriteLiteral(":none;\" id=\"submitbtn\" type=\"button\">提交</button><span class=\"checklink-state glyphicon glyphicon-ok text-success hide\"></span>\r\n            </div>\r\n        ");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_4.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_4);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
    </div>

    <div class='authent'>
        <div class=""loader"" style=""height: 44px;width: 44px;margin-left: 28px;"">
            <div class=""loader-inner ball-clip-rotate-multiple"">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
        <p>检测中...</p>
    </div>
    <script type=""text/html"" id=""edittmpl"">
        <tr>
            <td>
                <input type=""text"" readonly name=""item_orgname"" autocomplete=""off"" class=""form-text "" placeholder=""组织名"" required value=""{item_orgname}"" />
                <input type=""hidden"" name=""organizationbaseid"" value=""{organizationbaseid}"" />
                <input type=""hidden"" name=""databasename"" value=""{databasename}"" />
                <input type=""hidden"" name=""name"" value=""{name}"" />
                <input type=""hidden"" name=""uniquename"" value=""{uniquename}"" />
                <input type=""hidden"" name=""state"" value=""{state}"" />
            </td>
            <td><input ty");
                WriteLiteral(@"pe=""text"" readonly name=""item_databasename"" autocomplete=""off"" class=""form-text "" placeholder=""数据库名"" required value=""{item_databasename}"" /></td>
            <td><input type=""text"" name=""item_databaseusername"" autocomplete=""off"" class=""form-text edit-item"" placeholder=""数据库用户名"" required value=""{item_databaseusername}"" /></td>
            <td><input type=""text"" name=""item_databasepassword"" autocomplete=""off"" class=""form-text edit-item"" placeholder=""数据库密码"" required value=""{item_databasepassword}"" /></td>
            <td><input type=""text"" name=""item_databaseip"" autocomplete=""off"" class=""form-text edit-item"" placeholder=""数据库地址"" required value=""{item_databaseip}"" /></td>
        </tr>
    </script>
    <script src=""/content/js/jquery.min.js""></script>
    <script src=""/content/js/bootstrap.min.js""></script>
    <script src=""/content/js/jquery.form.js""></script>
    <script src=""/content/js/jquery-validate/jquery.validate.min.js""></script>
    <script src=""/content/js/jquery-validate/localization/messages");
                WriteLiteral("_zh.min.js\"></script>\r\n    <script src=\"/content/js/jquery-toast/jquery.toast.min.js\"></script>\r\n    <script src=\"/content/js/xms.web.js\"></script>\r\n    <script src=\"/content/js/xms.jquery.js\"></script>\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c9252e5ece9461840c10b416bf530bb89e80c8e619845", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
    <script>

        var $orginfolist = $('#orginfolist');

        function addInfoItems(datas) {
            var htmls = [];
            $.each(datas, function (i, n) {
                var tmpl = $('#edittmpl').html();
                tmpl = tmpl.replace(/{item_orgname}/g, n.name);
                tmpl = tmpl.replace(/{item_databasename}/g, n.databasename);
                tmpl = tmpl.replace(/{item_databaseusername}/g, n.dataaccountname);
                tmpl = tmpl.replace(/{item_databasepassword}/g, n.datapassword);
                tmpl = tmpl.replace(/{item_databaseip}/g, n.dataservername);
                tmpl = tmpl.replace(/{organizationbaseid}/g, n.organizationbaseid);
                tmpl = tmpl.replace(/{name}/g, n.name);
                tmpl = tmpl.replace(/{uniquename}/g, n.uniquename);
                tmpl = tmpl.replace(/{state}/g, n.state);
                tmpl = tmpl.replace(/{databasename}/g, n.databasename);
                tmpl = tmpl.replace(/{key}/g, '');
         ");
                WriteLiteral(@"       tmpl = tmpl.replace(/{other}/g, '');
                htmls.push(tmpl);
            });
            $orginfolist.append(htmls.join(''));
        }

        function showAuther() {
            setTimeout(function () {
                $('.authent').show().animate({ right: -320 }, {
                    easing: 'easeOutQuint',
                    duration: 200,
                    queue: false
                });
                $('.authent').animate({ opacity: 1 }, {
                    duration: 200,
                    queue: false
                }).addClass('visible');
            }, 0);
        }
        function hideAuther() {
            setTimeout(function () {
                $('.authent').show().animate({ right: 90 }, {
                    easing: 'easeOutQuint',
                    duration: 600,
                    queue: false
                });
                $('.authent').animate({ opacity: 0 }, {
                    duration: 200,
                    queue: fal");
                WriteLiteral(@"se
                }).addClass('visible');
                $('.login-wrap').removeClass('testtwo'); //平移特效
            }, 1500);
        }

        var ORG_SERVERURL = """";
        var checkurl = ORG_SERVERURL + '/Initialization/ConnectionTest';
        var submiturl = ORG_SERVERURL + '/Initialization/Save';
        var debound = $.deboundsEvent(3000, true);
        $('#checkbtn').click(function (e) {
            var that = this;
            showAuther();
            debound(function () {
                $('#init_step2').show();
                var postdata = $('form').serializeFormJSON();
                console.log(postdata);

                Xms.Web.Post(checkurl, postdata, false, function (res) {
                    hideAuther();
                    res = Xms.Web.GetAjaxResult(res);
                    if (res.IsSuccess == false) {
                        Xms.Web.Toast('数据库连接失败', false);
                    } else {

                        addInfoItems(res.content);
             ");
                WriteLiteral(@"           $('#init_step2').removeClass('hide');
                        $('.center-wrap').css('width', 500);
                        $('#checkbtn').hide();
                        $('#submitbtn').show();
                        $('#databasename').prop('readonly', true);
                        $('#host').prop('readonly', true);
                        $('#LoginName').prop('readonly', true);
                        $('#password').prop('readonly', true);
                        $('#databasetimeout').prop('readonly', true);
                    }
                    console.log(res);
                }, false, false, false);
            });
        });
        $('#submitbtn').click(function (e) {
            var that = this;
            debound(function () {
                var postdata = $('form').serializeFormJSON();
                console.log(postdata);
                // var postdata = getPostInfos(postdata);
                if (postdata) {
                    postdata.OrganizationBases ");
                WriteLiteral(@"= getPostInfos();
                }
                delete postdata.name;
                delete postdata.organizationbaseid;
                delete postdata.state;
                delete postdata.uniquename;
                delete postdata.databasename;
                Xms.Web.Post(submiturl, postdata, false, function (res) {

                    res = Xms.Web.GetAjaxResult(res);
                    if (res.IsSuccess == false) {
                        Xms.Web.Toast('提交失败', false);
                    } else {
                        Xms.Web.Toast('提交成功', true);
                        setTimeout(function () {
                            location.href = '/account/signin';
                        }, 3000);
                    }
                    console.log(res);
                }, false, false, false);
            });
            //console.log(response);
            return false;
        });

        $('#clearCacheBtn').on('click', function () {
            clearAllCookie();
    ");
                WriteLiteral(@"    });

        function getPostInfos() {
            var datas = [];
            $orginfolist.find('tr').each(function (i, n) {
                var $this = $(n);

                datas.push({
                    DataAccountName: $this.find('[name=""item_databaseusername""]').val(),
                    DataPassword: $this.find('[name=""item_databasepassword""]').val(),
                    DataServerName: $this.find('[name=""item_databaseip""]').val(),
                    organizationbaseid: $this.find('[name=""organizationbaseid""]').val(),
                    databasename: $this.find('[name=""databasename""]').val(),
                    name: $this.find('[name=""name""]').val(),
                    uniquename: $this.find('[name=""uniquename""]').val(),
                    state: $this.find('[name=""state""]').val()
                });
            });
            return datas;
        }
    </script>
");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n</html>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Xms.Web.Framework.Context.IWebAppContext app { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Xms.Web.Models.DbConfigurationModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
